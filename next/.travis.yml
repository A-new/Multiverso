sudo: required
branches:
  only:
    - liming
notifications:
  email:
    recipients:
      - v-limhua@microsoft.com
language: cpp
services:
  - docker
install:
  - docker build -t multiverso .
  - docker run -t -i multiverso /etc/bootstrap.sh -c "mpiexec -n 2 build/bin/multiverso.test matrix"
script:
  - docker ps
  - docker run -t -i multiverso /etc/bootstrap.sh -c "mpiexec -n 2 build/bin/multiverso.test checkpoint"
  - docker run -t -i multiverso /etc/bootstrap.sh -c "mpiexec -n 2 build/bin/multiverso.test ttt"
#  - mpiexec -n 2 build/bin/multiverso.test matrix
#  - mpiexec -n 2 build/bin/multiverso.test array
#  - mpiexec -n 2 build/bin/multiverso.test checkpoint
#  - mpiexec -n 2 build/bin/multiverso.test restore
#  - mpiexec -n 2 build/bin/multiverso.test kv
